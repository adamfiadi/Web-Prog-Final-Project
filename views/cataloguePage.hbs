<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <title>Bajoe.id</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="./bootstrap-4.5.3-dist/css/bootstrap.css">

    <!-- FONT -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link
        href="https://fonts.googleapis.com/css2?family=Nunito+Sans:ital,wght@0,200;0,300;0,400;0,600;0,700;0,800;0,900;1,200;1,300;1,400;1,600;1,700;1,800;1,900&display=swap"
        rel="stylesheet">

    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&display=swap" rel="stylesheet">

    <!-- Original CSS -->
    <link rel="stylesheet" href="/cataloguePage.css">
    <link rel="stylesheet" href="/cataloguePageMobile.css">

</head>

<body>

    <!-- CART SIDEBAR START -->
    <div id="mySidenav" class="sidenav">
        <div class="header">
            <h4>Your Cart</h4>
        </div>
        <div class="exit-button">
            <a class="closebtn" onclick="closeNav()">X</a>
        </div>
        <div class="body show-cart">

        </div>
        <div class="footer">
            <div class="all-button">
                <button id="checkOutButton" type="button" class="btn btn-primary cartButton">
                    CheckOut <span class="total-count"></span>
                </button>
                <button class="clear-cart btn btn-danger clearcartButton">
                    Clear Cart
                </button>
            </div>
            <div class="total">
                Total price: Rp.<span class="total-cart"></span>
            </div>
        </div>
    </div>
    <!-- CART SIDEBAR END -->

    <!-- NAVBAR START -->
    <nav class="navbar navbar-expand-lg navbar-light fixed-top nav-catalogue-page">
        <div class="container-fluid">
            <a id="homeButton" class="navbar-brand text-white page-scroll home-button">bajoe.</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup"
                aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
                <div class="header-1 navbar-nav">
                    <a class="nav-catalogue-top text-white nav-link active page-scroll" href="#catalogueTop">tops</a>
                    <a class="nav-catalogue-bottom text-white nav-link active page-scroll"
                        href="#catalogueBottom">bottoms</a>
                </div>
                <div class="header-2 navbar-nav ml-auto">
                    <a class="nav-link" href="#" onclick="openNav()"><img src="./IMG/png/026-shopping bag.png"
                            alt="Shopbag" class="icon-3" width="40px" height="40px"></a>
                </div>
            </div>
        </div>
    </nav>
    <!-- NAVBAR END -->

    <!-- CATALOGUE START -->
    <div id="catalogue" class="catalogue container-fluid">
        <!-- TOP START -->
        <div id="catalogueTop" class="top">
            <h3>Tops</h3>
            <hr>
            <div class="top-cuban">
                <div class="row">
                    <div class="col-3">
                        <a class="product-preview black-cuban-shirt">
                            <img src="./IMG/product/top-cuban-black.jpg" alt="black cuban img">
                            <h5>Black - Cuban Shirt</h5>
                            <h6>IDR 149.000</h6>
                        </a>
                        <div class="add-cart">
                            <button class="add-button" type="button" class="btn btn-secondary">
                                <a href="#" data-name="Black-CubanShirt" data-price="149000" class="add-to-cart">
                                    Beli.
                                </a>
                            </button>
                        </div>
                    </div>
                    <div class="col-3">
                        <a class="product-preview grey-cuban-shirt">
                            <img src="./IMG/product/top-cuban-grey.jpg" alt="grey cuban img">
                            <h5>Grey - Cuban Shirt</h5>
                            <h6>IDR 149.000</h6>
                        </a>
                        <div class="add-cart">
                            <button class="add-button" type="button" class="btn btn-secondary"><a href="#"
                                    data-name="Grey-CubanShirt" data-price="149000"
                                    class="add-to-cart">Beli.</a></button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="top-oxford">
                <div class="row">
                    <div class="col-3">
                        <a class="product-preview black-oxford-shirt"></a>
                        <img src="./IMG/product/top-oxford-black.jpg" alt="black oxford img">
                        <h5>Black - Oxford Shirt</h5>
                        <h6>IDR 199.000</h6>
                        </a>
                        <div class="add-cart">
                            <button class="add-button" type="button" class="btn btn-secondary"><a href="#"
                                    data-name="Black-OxfordShirt" data-price="199000"
                                    class="add-to-cart">Beli.</a></button>
                        </div>
                    </div>
                    <div class="col-3">
                        <a class="product-preview grey-oxford-shirt">
                            <img src="./IMG/product/top-oxford-grey.jpg" alt="grey oxford img">
                            <h5>Grey - Oxford Shirt</h5>
                            <h6>IDR 199.000</h6>
                        </a>
                        <div class="add-cart">
                            <button class="add-button" type="button" class="btn btn-secondary">
                                <a href="#" data-name="Grey-OxfordShirt" data-price="199000"
                                    class="add-to-cart">Beli.</a>
                            </button>
                        </div>
                    </div>
                    <div class="col-3">
                        <a class="product-preview white-oxford-shirt">
                            <img src="./IMG/product/top-oxford-white.jpg" alt="white oxford img">
                            <h5>White - Oxford Shirt</h5>
                            <h6>IDR 199.000</h6>
                        </a>
                        <div class="add-cart">
                            <button class="add-button" type="button" class="btn btn-secondary"><a href="#"
                                    data-name="White-OxfordShirt" data-price="199000"
                                    class="add-to-cart">Beli.</a></button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- TOP END -->

        <!-- BOTTOM START -->
        <div id="catalogueBottom" class="bottom">
            <h3>Bottoms</h3>
            <hr>
            <div class="bottom-short">
                <div class="row">
                    <div class="col-3">
                        <a class="product-preview black-short-bottom" href="#">
                            <img src="./IMG/product/bottom-short-black.jpg" alt="black short img">
                            <h5>Black - Cargo Shorts</h5>
                            <h6>IDR 129.000</h6>
                        </a>
                        <div class="add-cart">
                            <button class="add-button" type="button" class="btn btn-secondary"><a href="#"
                                    data-name="Black-CargoShorts" data-price="129000"
                                    class="add-to-cart">Beli.</a></button>
                        </div>
                    </div>
                    <div class="col-3">
                        <a class="product-preview grey-short-bottom" href="#">
                            <img src="./IMG/product/bottom-short-grey.jpg" alt="grey short img">
                            <h5>Grey - Cargo Short</h5>
                            <h6>IDR 199.000</h6>
                        </a>
                        <div class="add-cart">
                            <button class="add-button" type="button" class="btn btn-secondary"><a href="#"
                                    data-name="Grey-CargoShorts" data-price="129000"
                                    class="add-to-cart">Beli.</a></button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="bottom-ankle">
                <div class="row">
                    <div class="col-3">
                        <a class="product-preview black-ankle-trouser" href="#">
                            <img src="./IMG/product/bottom-ankle-black.jpg" alt="black ankle img">
                            <h5>Black - Ankle Pants</h5>
                            <h6>IDR 199.000</h6>
                        </a>
                        <div class="add-cart">
                            <button class="add-button" type="button" class="btn btn-secondary"><a href="#"
                                    data-name="Black-AnkleTrousers" data-price="199000"
                                    class="add-to-cart">Beli.</a></button>
                        </div>
                    </div>
                    <div class="col-3">
                        <a class="product-preview grey-ankle-trouser" href="#">
                            <img src="./IMG/product/bottom-ankle-grey.jpg" alt="black ankle img">
                            <h5>Grey - Ankle Pants</h5>
                            <h6>IDR 199.000</h6>
                        </a>
                        <div class="add-cart">
                            <button class="add-button" type="button" class="btn btn-secondary"><a href="#"
                                    data-name="Grey-AnkleTrousers" data-price="199000"
                                    class="add-to-cart">Beli.</a></button>
                        </div>
                    </div>
                    <div class="col-3">
                        <a class="product-preview white-ankle-trouser" href="#">
                            <img src="./IMG/product/bottom-ankle-white.jpg" alt="black ankle img">
                            <h5>White - Ankle Pants</h5>
                            <h6>IDR 199.000</h6>
                        </a>
                        <div class="add-cart">
                            <button class="add-button" type="button" class="btn btn-secondary"><a href="#"
                                    data-name="White-AnkleTrousers" data-price="199000"
                                    class="add-to-cart">Beli.</a></button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- BOTTOM END -->
    </div>



    <!-- JQuery -->
    <script src="./bootstrap-4.5.3-dist/js/jquery-3.5.1.js"></script>

    <!-- Bootstrap JavaScript -->
    <script src="./bootstrap-4.5.3-dist/js/bootstrap.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
        crossorigin="anonymous"></script>

    <!-- JQuery Easing -->
    <script src="./bootstrap-4.5.3-dist/js/jquery.easing.1.3.js"></script>

    <!-- Original JavaScript -->
    <script>
        // Home Page
        $('#homeButton').click(function () {
            window.location.href = "/"
        });


        // Auto Smooth Scrolling
        $('.page-scroll').on('click', function (e) {

            //Get href
            var href = $(this).attr('href');

            //Get element
            var elementHref = $(href);

            //Scroll
            $('html, body').animate({
                scrollTop: (elementHref.offset().top - 70)
            }, 1500, 'easeInOutExpo'
            );

            e.preventDefault();
        });

        // Cart Sidebar
        /* Set the width of the side navigation to 250px */
        function openNav() {
            document.getElementById("mySidenav").style.width = "800px";
        }

        /* Set the width of the side navigation to 0 */
        function closeNav() {
            document.getElementById("mySidenav").style.width = "0";
        }


        // Constructor Product
        function Product(productID, productName, type, productPrice) {
            this.productID = productID;
            this.productName = productName;
            this.type = type;
            this.productPrice = productPrice;
        }

        // Product Top Cuban Insertion
        var product1 = new Product('TS01', 'Black - Cuban Shirt', 'Top', 149000);
        var product2 = new Product('TS02', 'Grey - Cuban Shirt', 'Top', 149000);

        // Product Top Oxofrd Insertion 
        var product3 = new Product('TL01', 'Black - Oxford Shirt', 'Top', 149000);
        var product4 = new Product('TL02', 'Grey - Oxford Shirt', 'Top', 199000);
        var product5 = new Product('TL03', 'White - Oxford Shirt', 'Top', 199000);

        // Product Bottom Short Insertion
        var product6 = new Product('BS01', 'Black - Short Cargo', 'Bottom', 129000);
        var product7 = new Product('BS02', 'Grey - Short Cargo', 'Bottom', 129000);

        // Product Bottom Ankle Insertion
        var product8 = new Product('BL01', 'Black - Ankle Trouser', 'Bottom', 179000);
        var product9 = new Product('BL02', 'Grey - Ankle Trouser', 'Bottom', 179000);
        var product10 = new Product('BL03', 'White - Ankle Trouser', 'Bottom', 179000);

        var shoppingCart = (function () {

            cart = [];

            // Constructor
            function Item(name, price, count) {
                this.name = name;
                this.price = price;
                this.count = count;
            }

            // Save cart
            function saveCart() {
                sessionStorage.setItem('shoppingCart', JSON.stringify(cart));
            }

            // Load cart
            function loadCart() {
                cart = JSON.parse(sessionStorage.getItem('shoppingCart'));
            }
            if (sessionStorage.getItem("shoppingCart") != null) {
                loadCart();
            }


            var obj = {};

            // Add to cart
            obj.addItemToCart = function (name, price, count) {
                for (var item in cart) {
                    if (cart[item].name === name) {
                        cart[item].count++;
                        saveCart();
                        return;
                    }
                }
                var item = new Item(name, price, count);
                cart.push(item);
                saveCart();
            }
            // Set count from item
            obj.setCountForItem = function (name, count) {
                for (var i in cart) {
                    if (cart[i].name === name) {
                        cart[i].count = count;
                        break;
                    }
                }
            };
            // Remove item from cart
            obj.removeItemFromCart = function (name) {
                for (var item in cart) {
                    if (cart[item].name === name) {
                        cart[item].count--;
                        if (cart[item].count === 0) {
                            cart.splice(item, 1);
                        }
                        break;
                    }
                }
                saveCart();
            }

            // Remove all items from cart
            obj.removeItemFromCartAll = function (name) {
                for (var item in cart) {
                    if (cart[item].name === name) {
                        cart.splice(item, 1);
                        break;
                    }
                }
                saveCart();
            }

            // Clear cart
            obj.clearCart = function () {
                cart = [];
                saveCart();
            }

            // Count cart 
            obj.totalCount = function () {
                var totalCount = 0;
                for (var item in cart) {
                    totalCount += cart[item].count;
                }
                return totalCount;
            }

            // Total cart
            obj.totalCart = function () {
                var totalCart = 0;
                for (var item in cart) {
                    totalCart += cart[item].price * cart[item].count;
                }
                return Number(totalCart.toFixed(2));
            }

            // List cart
            obj.listCart = function () {
                var cartCopy = [];
                for (i in cart) {
                    item = cart[i];
                    itemCopy = {};
                    for (p in item) {
                        itemCopy[p] = item[p];

                    }
                    itemCopy.total = Number(item.price * item.count).toFixed(2);
                    cartCopy.push(itemCopy)
                }
                return cartCopy;
            }


            return obj;
        })();




        $('.add-to-cart').click(function (event) {
            event.preventDefault();
            var name = $(this).data('name');
            var price = Number($(this).data('price'));
            shoppingCart.addItemToCart(name, price, 1);
            displayCart();
        });

        // Clear items
        $('.clear-cart').click(function () {
            shoppingCart.clearCart();
            displayCart();
        });


        function displayCart() {
            var cartArray = shoppingCart.listCart();
            var output = "";
            for (var i in cartArray) {
                output +=
                    "<h5 class='product-name'>" + cartArray[i].name + "</h5>" +
                    "<h5 class='single-price'>" + cartArray[i].price + "</h5>" +
                    "<button type='button' class='minus-item input-group-addon btn btn-danger' data-name=" + cartArray[i].name + ">-</button>" +
                    "<input type='number' class='item-count form-control' data-name=" + cartArray[i].name + " value=" + cartArray[i].count + ">" +
                    "<button type='button' class='plus-item input-group-addon btn btn-primary' data-name=" + cartArray[i].name + ">+</button>" +
                    "<button type='button' class='delete-item btn btn-danger' data-name=" + cartArray[i].name + ">x</button>" +
                    "<h5 class='result'>= <span>" + cartArray[i].total + "</span></h5>";
            }
            $('.show-cart').html(output);
            $('.total-cart').html(shoppingCart.totalCart());
            $('.total-count').html(shoppingCart.totalCount());
        }

        // Delete item button

        $('.show-cart').on("click", ".delete-item", function (event) {
            var name = $(this).data('name')
            shoppingCart.removeItemFromCartAll(name);
            displayCart();
        })


        // -1
        $('.show-cart').on("click", ".minus-item", function (event) {
            var name = $(this).data('name')
            shoppingCart.removeItemFromCart(name);
            displayCart();
        })
        // +1
        $('.show-cart').on("click", ".plus-item", function (event) {
            var name = $(this).data('name')
            shoppingCart.addItemToCart(name);
            displayCart();
        })

        // Item count input
        $('.show-cart').on("change", ".item-count", function (event) {
            var name = $(this).data('name');
            var count = Number($(this).val());
            shoppingCart.setCountForItem(name, count);
            displayCart();
        });

        displayCart();

        // Check Out
        $('#checkOutButton').click(function () {
            if (shoppingCart.totalCount() == 0) {
                alert('Anda belum memilih barang');
            }
            else if (shoppingCart.totalCount() > 0) {
                alert('Terimakasih Telah Berbelanja di Bajoe :)');
            }
        });

    </script>

    <!-- Option 2: jQuery, Popper.js, and Bootstrap JS
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s" crossorigin="anonymous"></script>
    -->
</body>

</html>